<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use App\Models\Country;
use App\Models\City;
use App\Models\Category;
use Illuminate\Support\Str;

class BasicDataSeeder extends Seeder
{
    public function run(): void
    {
        $data = [
            ['name' => 'مصر', 'code' => 'EG', 'cities' => ['القاهرة', 'الجيزة', 'الإسكندرية', 'الدقهلية', 'القليوبية', 'الشرقية', 'المنوفية', 'الغربية', 'البحيرة', 'دمياط', 'مطروح', 'بورسعيد', 'الإسماعيلية', 'السويس', 'سيناء الشمالية', 'سيناء الجنوبية', 'كفر الشيخ', 'الفيوم', 'بني سويف', 'المنيا', 'أسيوط', 'سوهاج', 'قنا', 'الأقصر', 'أسوان', 'البحر الأحمر', 'الوادي الجديد']],
            ['name' => 'السعودية', 'code' => 'SA', 'cities' => ['الرياض', 'مكة المكرمة', 'المدينة المنورة', 'جدة', 'الدمام', 'الخبر', 'الظهران', 'الأحساء', 'الطائف', 'خميس مشيط', 'تبوك', 'حائل', 'نجران', 'أبها', 'الجوف', 'جيزان', 'بريدة', 'عنيزة', 'سكاكا', 'عرعر']],
            ['name' => 'الإمارات', 'code' => 'AE', 'cities' => ['أبوظبي', 'دبي', 'الشارقة', 'عجمان', 'رأس الخيمة', 'الفجيرة', 'أم القيوين', 'العين']],
            ['name' => 'الكويت', 'code' => 'KW', 'cities' => ['الكويت العاصمة', 'الجهراء', 'حولي', 'الفروانية', 'مبارك الكبير', 'الأحمدي']],
            ['name' => 'قطر', 'code' => 'QA', 'cities' => ['الدوحة', 'الريان', 'الوكرة', 'الخور', 'الشمال', 'الظعاين', 'أم صلال']],
        ];

        foreach ($data as $item) {
            $country = Country::create([
                'name' => $item['name'],
                'code' => $item['code']
            ]);

            foreach ($item['cities'] as $cityName) {
                City::create([
                    'country_id' => $country->id,
                    'name' => $cityName
                ]);
            }
        }

        $categories = [
            'مطاعم وكافيهات',
            'عقارات وأراضي',
            'مقاولات وبناء',
            'ديكور وتشطيبات',
            'خدمات طبية ومستشفيات',
            'صيدليات',
            'سيارات ومعارض',
            'صيانة سيارات',
            'تكنولوجيا وبرمجيات',
            'تسويق ودعاية',
            'تجميل وعناية شخصية',
            'أزياء وملابس',
            'سياحة وفنادق',
            'خدمات تعليمية',
            'محاماة واستشارات قانونية',
            'محاسبة وضرائب',
            'نقل وشحن',
            'تنظيف ومكافحة حشرات',
            'تكييف وتبريد',
            'أجهزة كهربائية',
            'أثاث ومفروشات',
            'تصدير واستيراد',
            'مصانع وإنتاج',
            'مواد غذائية',
            'حيوانات أليفة',
            'رياضة وجيم',
            'تصوير وتنظيم حفلات',
            'هدايا وزهور',
            'مكتبات وأدوات مكتبية',
            'خياطة وستائر'
        ];

        foreach ($categories as $cat) {
            Category::create([
                'name' => $cat,
                'slug' => Str::slug($cat) == "" ? Str::random(10) : Str::slug($cat)
            ]);
        }
    }
}
